# Require the version of batman in batman-rails
#=require batman/batman
#=require batman/batman.jquery
#=require batman/batman.rails

#=require_self

#=require_tree ./models
#=require_tree ./controllers
#=require_tree ./helpers
#=require_tree ./views

window.NavigatorMaxFrontend = class NavigatorMaxFrontend extends Batman.App
  #Batman.ViewStore.prefix = 'assets/views'

  @navLinks: <%=MainController::SITE_NAVIGATION.collect{|nav| 
    {:href => "#!/%s" % nav, :text => I18n.t('main.index.tabs.%s.label' % nav.tr(*%w(- _))) }
  }.to_json %>

  #@resources 'ads'
  @route '/spatial-data-raw', 'SpatialDataRaw#index'
  @route '/home', 'Home#index'

  @on 'run', ->

  @on 'ready', ->
    #@navigator.redirect '/home'
    console.log "NavigatorMaxFrontend ready for use."

  #@classAccessor 'flash', -> new Classifieds.Flash
